{"paragraphs":[{"text":"%spark.pyspark \n\nsc._jsc.hadoopConfiguration().set('fs.s3n.awsAccessKeyId', 'AKIAIPWWBV7EZHFTQRKQ')\nsc._jsc.hadoopConfiguration().set('fs.s3n.awsSecretAccessKey', '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')","user":"anonymous","dateUpdated":"2017-06-20T16:25:20+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1497959594463_-868512282","id":"20170620-115314_1686862999","dateCreated":"2017-06-20T11:53:14+0000","dateStarted":"2017-06-20T16:25:20+0000","dateFinished":"2017-06-20T16:25:20+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2007"},{"text":"%spark.pyspark\n\nnews = sqlContext.read.json(\"s3://newsclustering/webhose-monthly-gz/*.json.gz\")","user":"anonymous","dateUpdated":"2017-06-20T16:25:23+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1497959598628_-1637225260","id":"20170620-115318_1650423886","dateCreated":"2017-06-20T11:53:18+0000","dateStarted":"2017-06-20T16:25:23+0000","dateFinished":"2017-06-20T16:28:55+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2008"},{"text":"%spark.pyspark\n\ncc = news.groupBy('thread.site').count().collect()","user":"anonymous","dateUpdated":"2017-06-20T16:30:28+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1497974162508_998607459","id":"20170620-155602_1838269977","dateCreated":"2017-06-20T15:56:02+0000","dateStarted":"2017-06-20T16:30:28+0000","dateFinished":"2017-06-20T16:09:06+0000","status":"RUNNING","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:2009"},{"text":"%spark.pyspark\n\nfrac = dict(\n    (e['site'], min(1, sample_count / float(e['count'])))\n    for e \n    in cc\n)","user":"anonymous","dateUpdated":"2017-06-20T16:14:19+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1497974136562_-1358425600","id":"20170620-155536_1606798984","dateCreated":"2017-06-20T15:55:36+0000","dateStarted":"2017-06-20T16:14:19+0000","dateFinished":"2017-06-20T16:14:19+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2010"},{"text":"%spark.pyspark\n\nsampled = news.sampleBy('thread.site', fractions=frac)","user":"anonymous","dateUpdated":"2017-06-20T16:14:33+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1497960089316_1944125295","id":"20170620-120129_1024361890","dateCreated":"2017-06-20T12:01:29+0000","dateStarted":"2017-06-20T16:14:33+0000","dateFinished":"2017-06-20T16:14:33+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2011"},{"text":"%spark.pyspark\n\nsampled.count()","user":"anonymous","dateUpdated":"2017-06-20T16:19:24+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"27354\n"}]},"apps":[],"jobName":"paragraph_1497960118984_-447843293","id":"20170620-120158_714085724","dateCreated":"2017-06-20T12:01:58+0000","dateStarted":"2017-06-20T16:19:24+0000","dateFinished":"2017-06-20T16:19:44+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2012"},{"text":"%spark.pyspark\n\nsampled.rdd.map(lambda x: x['thread']['site']).countByValue()\n\n","user":"anonymous","dateUpdated":"2017-06-20T16:14:44+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"defaultdict(<type 'int'>, {u'thefederalistpapers.org': 134, u'thenewcivilrightsmovement.com': 92, u'apnews.com': 48, u'mrctv.org': 1, u'wsj.com': 989, u'rightwingnews.com': 318, u'youngcons.com': 155, u'democracynow.org': 45, u'chron.com': 968, u'slate.com': 627, u'thegatewaypundit.com': 192, u'azcentral.com': 983, u'forbes.com': 992, u'dailykos.com': 300, u'c-span.org': 11, u'bloomberg.com': 1023, u'rawstory.com': 998, u'theblaze.com': 891, u'ft.com': 1070, u'chicagotribune.com': 994, u'sfchronicle.com': 12, u'reuters.com': 992, u'washingtonpost.com': 987, u'dailycaller.com': 787, u'politicususa.com': 36, u'thinkprogress.org': 183, u'washingtonexaminer.com': 979, u'redstate.com': 101, u'thenation.com': 70, u'judicialwatch.org': 5, u'propublica.org': 102, u'townhall.com': 734, u'cnn.com': 1029, u'cbn.com': 156, u'afp.com': 29, u'westernjournalism.com': 60, u'nytimes.com': 977, u'seattletimes.com': 970, u'allenbwest.com': 35, u'usatoday.com': 961, u'nydailynews.com': 1033, u'motherjones.com': 137, u'talkingpointsmemo.com': 329, u'latimes.com': 1058, u'bizpacreview.com': 278, u'nj.com': 1054, u'bbc.com': 1012, u'dallasnews.com': 1004, u'economist.com': 405, u'breitbart.com': 1008})\n"}]},"apps":[],"jobName":"paragraph_1497960505488_-1471091477","id":"20170620-120825_1154316416","dateCreated":"2017-06-20T12:08:25+0000","dateStarted":"2017-06-20T16:14:44+0000","dateFinished":"2017-06-20T16:15:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2013"},{"text":"%spark.pyspark\n\nsampled.write.mode('append').json(\"s3://newsclustering/sampled\")","user":"anonymous","dateUpdated":"2017-06-20T16:23:21+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1497973420005_395788010","id":"20170620-154340_2120430667","dateCreated":"2017-06-20T15:43:40+0000","dateStarted":"2017-06-20T16:23:21+0000","dateFinished":"2017-06-20T16:23:46+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2014"},{"text":"%spark.pyspark\n","user":"anonymous","dateUpdated":"2017-06-20T16:21:58+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1497975718189_226425686","id":"20170620-162158_1453400585","dateCreated":"2017-06-20T16:21:58+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:2015"}],"name":"pyNewsClust","id":"2CMVBT343","angularObjects":{"2BRWU4WXC:shared_process":[],"2AM1YV5CU:shared_process":[],"2AJXGMUUJ:shared_process":[],"2ANGGHHMQ:shared_process":[],"2AKK3QQXU:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}